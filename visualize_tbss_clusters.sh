
#!/bin/bash
region=$1
# underlay=$2 # not using this for now
oroot=$2

# from chatgpt
# fsleyes render --outfile $oroot/$(basename $region .nii.gz).png \
#   --size 1292 486 \
#   --scene ortho \
#   --voxelLoc $(fslstats $region -C | awk '{print int($1),int($2),int($3)}') \
#   --displaySpace $FSLDIR/data/standard/MNI152_T1_1mm.nii.gz \
#   --overlayType volume \
#   --volume 0 $region \
#   --alpha 100.0 \
#   --cmap red-yellow \
#   --displayRange $(fslstats $region -R | awk '{print int($1)".0",int($2)".0"}')

fsleyes render --outfile $oroot/$(basename $region .nii.gz).png --size 1292 486 --scene ortho --voxelLoc $(fslstats $region -C | awk '{print int($1),int($2),int($3)}') --scene ortho --displaySpace $FSLDIR/data/standard/MNI152_T1_1mm.nii.gz --xcentre  0.00000 -0.00000 --ycentre  0.00000  0.00000 --zcentre  0.00000  0.00000 --xzoom 100.0 --yzoom 100.0 --zzoom 100.0 --showLocation no --layout horizontal --cursorWidth 1.0 --bgColour 0.0 0.0 0.0 --fgColour 1.0 1.0 1.0 --cursorColour 0.0 1.0 0.0 --colourBarLocation top --colourBarLabelSide top-left --colourBarSize 100.0 --labelSize 12 --performance 3 --movieSync $FSLDIR/data/standard/MNI152_T1_1mm.nii.gz --name "MNI152_T1_1mm" --overlayType volume --alpha 100.0 --brightness 49.75000000000001 --contrast 49.90029860765409 --cmap greyscale --negativeCmap greyscale --displayRange 0.0 10098.99 --clippingRange 0.0 10098.99 --modulateRange 0.0 9999.0 --gamma 0.0 --cmapResolution 256 --interpolation none --numSteps 60 --blendFactor 0.3 --smoothing 0 --resolution 70 --numInnerSteps 10 --clipMode intersection --volume 0 $region --name "$(basename $region .nii.gz)" --overlayType volume --alpha 100.0 --brightness 49.75000000000001 --contrast 49.90029860765409 --cmap red-yellow --negativeCmap greyscale --displayRange $(fslstats $region -R | awk '{print int($1)".0",int($2)".0"}') --clippingRange $(fslstats $region -R | awk '{print int($1)".0",int($2)".0"}') --modulateRange $(fslstats $region -R | awk '{print int($1)".0",int($2)".0"}') --gamma 0.0 --cmapResolution 256 --interpolation none --numSteps 60 --blendFactor 0.3 --smoothing 0 --resolution 70 --numInnerSteps 10 --clipMode intersection --volume 0

magick convert -gravity north -background black -fill white -pointsize 20 -gravity north label:"$(basename $region .nii.gz)" $oroot/$(basename $region .nii.gz).png -append miff:- | \
convert - +repage $oroot/$(basename $region .nii.gz).png
convert $oroot/$(basename $region .nii.gz).png +repage $oroot/$(basename $region .nii.gz).pdf
rm $oroot/$(basename $region .nii.gz).png

# fsleyes --scene ortho --worldLoc 62.869697092281 -22.55505044063206 -15.356141328670937 --displaySpace /study3/midus3/processed_data/loneliness_DWI/palm/UCLA_Lonely+C5PAGE_i_2_model/visualization/cc_C_mni/dki_UCLA_Lonely+C5PAGE_i_2_model_average_fa_1mm_skeleton_vox_tstat_uncp_m2_c2_fill_bin_cc_C63_in_mni.nii.gz --xcentre  0.00000  0.00000 --ycentre  0.00000 -0.00000 --zcentre  0.00000  0.00000 --xzoom 100.0 --yzoom 100.0 --zzoom 100.0 --hideLabels --showLocation no --layout horizontal --hideCursor --cursorWidth 1.0 --bgColour 0.0 0.0 0.0 --fgColour 1.0 1.0 1.0 --cursorColour 0.0 1.0 0.0 --colourBarLocation top --colourBarLabelSide top-left --colourBarSize 100.0 --labelSize 12 --performance 3 --movieSync /study1/utaut2/T1WIAnalysisNA/fsl/data/standard/MNI152_T1_1mm.nii.gz --name "MNI152_T1_1mm" --overlayType volume --alpha 100.0 --brightness 49.75000000000001 --contrast 49.90029860765409 --cmap greyscale --negativeCmap greyscale --displayRange 0.0 10098.99 --clippingRange 0.0 10098.99 --modulateRange 0.0 9999.0 --gamma 0.0 --cmapResolution 256 --interpolation none --numSteps 60 --blendFactor 0.3 --smoothing 0 --resolution 70 --numInnerSteps 10 --clipMode intersection --volume 0 /study3/midus3/processed_data/loneliness_DWI/palm/UCLA_Lonely+C5PAGE_i_2_model/visualization/cc_C_mni/dki_UCLA_Lonely+C5PAGE_i_2_model_average_fa_1mm_skeleton_vox_tstat_uncp_m2_c2_fill_bin_cc_C63_in_mni.nii.gz --name "dki_UCLA_Lonely+C5PAGE_i_2_model_average_fa_1mm_skeleton_vox_tstat_uncp_m2_c2_fill_bin_cc_C63_in_mni" --overlayType volume --alpha 100.0 --brightness 49.74999999999999 --contrast 49.90029860765409 --cmap red-yellow --negativeCmap greyscale --displayRange 0.0 49.355459022241 --clippingRange 0.0 49.355459022241 --modulateRange 0.0 48.8667911111297 --gamma 0.0 --cmapResolution 256 --interpolation none --numSteps 60 --blendFactor 0.3 --smoothing 0 --resolution 70 --numInnerSteps 10 --clipMode intersection --volume 0

# fsleyes render --outfile $oroot/$(basename $region .nii.gz).png --size 1292 486 --scene ortho --voxelLoc $(fslstats $region -C | awk '{print int($1),int($2),int($3)}') --displaySpace $underlay --xcentre  0.00000  0.00000 --ycentre  0.00000 -0.00000 --zcentre  0.00000 -0.00000 --xzoom 100.0 --yzoom 100.0 --zzoom 100.0 --showLocation no --layout horizontal --cursorWidth 1.0 --bgColour 0.0 0.0 0.0 --fgColour 1.0 1.0 1.0 --cursorColour 0.0 1.0 0.0 --colourBarLocation top --colourBarLabelSide top-left --colourBarSize 100.0 --labelSize 12 --movieSync $underlay --name "mean_FA" --overlayType volume --alpha 100.0 --brightness 49.75000000000001 --contrast 49.90029860765409 --cmap greyscale --negativeCmap greyscale --displayRange 0.0 0.8572663915157318 --clippingRange 0.0 0.8572663915157318 --modulateRange 0.0 0.8487786054611206 --gamma 0.0 --cmapResolution 256 --interpolation none --numSteps 60 --blendFactor 0.3 --smoothing 0 --resolution 70 --numInnerSteps 10 --clipMode intersection --volume 0 $droot/mean_FA_skeleton_mask.nii.gz --name "mean_FA_skeleton_mask" --overlayType volume --alpha 100.0 --brightness 49.75000000000001 --contrast 49.90029860765409 --cmap green --negativeCmap greyscale --displayRange 0.0 1.01 --clippingRange 0.0 1.01 --modulateRange 0.0 1.0 --gamma 0.0 --cmapResolution 256 --interpolation none --numSteps 60 --blendFactor 0.3 --smoothing 0 --resolution 70 --numInnerSteps 10 --clipMode intersection --volume 0 $region --name "$(basename $region .nii.gz)" --overlayType volume --alpha 100.0 --brightness 49.75000000000001 --contrast 49.90029860765409 --cmap red-yellow --negativeCmap greyscale --displayRange 0.0 0.4258120408654213 --clippingRange 0.0 0.4258120408654213 --modulateRange 0.0 0.42159608006477356 --gamma 0.0 --cmapResolution 256 --interpolation none --numSteps 60 --blendFactor 0.3 --smoothing 0 --resolution 70 --numInnerSteps 10 --clipMode intersection --volume 0

# droot=/Users/nadluru/Documents/ohbm2021/fsleyes_vis
# fsleyes render --outfile $oroot/$(basename $region .nii.gz).png --size 1292 486 --scene ortho --voxelLoc $(fslstats $region -C | awk '{print int($1),int($2),int($3)}') --displaySpace $droot/mean_FA.nii.gz --xcentre  0.00000  0.00000 --ycentre  0.00000 -0.00000 --zcentre  0.00000 -0.00000 --xzoom 100.0 --yzoom 100.0 --zzoom 100.0 --layout horizontal --bgColour 0.0 0.0 0.0 --fgColour 1.0 1.0 1.0 --cursorColour 0.0 1.0 0.0 --colourBarLocation top --colourBarLabelSide top-left --colourBarSize 100.0 --labelSize 12 --performance 3 --movieSync $droot/mean_FA.nii.gz --name "mean_FA" --overlayType volume --alpha 100.0 --brightness 50.0 --contrast 50.0 --cmap greyscale --negativeCmap greyscale --displayRange 0.0 0.85 --clippingRange 0.0 0.85 --modulateRange 0.0 0.85 --gamma 0.0 --cmapResolution 256 --interpolation none --numSteps 100 --blendFactor 0.1 --smoothing 0 --resolution 100 --numInnerSteps 10 --clipMode intersection --volume 0 $droot/mean_FA_skeleton.nii.gz --name "mean_FA_skeleton" --disabled --overlayType label --alpha 100.0 --brightness 50.0 --contrast 50.0 --lut random --outlineWidth 0 --volume 0 $droot/mean_FA_skeleton_mask.nii.gz --name "mean_FA_skeleton_mask" --overlayType label --alpha 100.0 --brightness 50.0 --contrast 50.0 --lut random --outlineWidth 0 --volume 0 $region --name "$(basename $region .nii.gz)" --overlayType volume --alpha 100.0 --brightness 50 --contrast 50 --cmap red-yellow --negativeCmap greyscale --displayRange 0.0 0.5 --clippingRange 0.0 0.5 --modulateRange 0.0 0.5 --gamma 0.0 --cmapResolution 256 --interpolation none --numSteps 100 --blendFactor 0.1 --smoothing 0 --resolution 100 --numInnerSteps 10 --clipMode intersection --volume 0

# fsleyes --scene ortho --worldLoc 16.0 -59.0 48.0 --displaySpace /scratch/adluru/dc/March2022/OverallGroups/NPSpecificHarmonization_June2022/mean_FA.nii.gz --xcentre  0.00000  0.00000 --ycentre  0.00000  0.00000 --zcentre  0.00000  0.00000 --xzoom 100.0 --yzoom 100.0 --zzoom 100.0 --layout horizontal --bgColour 0.0 0.0 0.0 --fgColour 1.0 1.0 1.0 --cursorColour 0.0 1.0 0.0 --colourBarLocation top --colourBarLabelSide top-left --colourBarSize 100.0 --labelSize 12 --performance 3 --movieSync /scratch/adluru/dc/March2022/OverallGroups/NPSpecificHarmonization_June2022/mean_FA.nii.gz --name "mean_FA" --overlayType volume --alpha 100.0 --brightness 49.75000000000001 --contrast 49.90029860765409 --cmap greyscale --negativeCmap greyscale --displayRange 0.0 0.8572663915157318 --clippingRange 0.0 0.8572663915157318 --modulateRange 0.0 0.8487786054611206 --gamma 0.0 --cmapResolution 256 --interpolation none --numSteps 60 --blendFactor 0.3 --smoothing 0 --resolution 70 --numInnerSteps 10 --clipMode intersection --volume 0 /scratch/adluru/dc/March2022/OverallGroups/NPSpecificHarmonization_June2022/mean_FA_skeleton_mask.nii.gz --name "mean_FA_skeleton_mask" --overlayType volume --alpha 100.0 --brightness 49.75000000000001 --contrast 49.90029860765409 --cmap green --negativeCmap greyscale --displayRange 0.0 1.01 --clippingRange 0.0 1.01 --modulateRange 0.0 1.0 --gamma 0.0 --cmapResolution 256 --interpolation none --numSteps 60 --blendFactor 0.3 --smoothing 0 --resolution 70 --numInnerSteps 10 --clipMode intersection --volume 0 $region --name "tbss_harmonized_RD_FRI_age_sex_100K_T2_D_06172022_tfce_p_tstat2_masked_cc_C80_fill" --overlayType volume --alpha 100.0 --brightness 49.75000000000001 --contrast 49.90029860765409 --cmap red-yellow --negativeCmap greyscale --displayRange 0.0 0.4258120408654213 --clippingRange 0.0 0.4258120408654213 --modulateRange 0.0 0.42159608006477356 --gamma 0.0 --cmapResolution 256 --interpolation none --numSteps 60 --blendFactor 0.3 --smoothing 0 --resolution 70 --numInnerSteps 10 --clipMode intersection --volume 0
